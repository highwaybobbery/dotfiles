#!/bin/bash

# swingto-go - Change to directory selected by swingto-pick
selection_file="$HOME/.swingto_selection"

if [[ ! -f "$selection_file" ]]; then
  echo "No selection found. Run 'swingto-pick' first."
  exit 1
fi

target_dir=$(cat "$selection_file")

if [[ -z "$target_dir" ]]; then
  echo "Empty selection file. Run 'swingto-pick' first."
  exit 1
fi

if [[ ! -d "$target_dir" ]]; then
  echo "Directory no longer exists: $target_dir"
  exit 1
fi

echo "Changing to: $target_dir"
cd "$target_dir"